{"version":3,"file":"index.js","sources":["../src/js/consts.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const API_KEY = '49335646-80c9a1e6c5c5033cc7f2a4c93',\n  baseUrl = 'https://pixabay.com/api/';\n","import { API_KEY, baseUrl } from './consts';\nimport axios from 'axios';\n\nconst getData = search => {\n  search = search ? search : '';\n  const opt = {\n    key: API_KEY,\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return axios.get(baseUrl + '?' + new URLSearchParams(opt));\n};\n\nexport default getData;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst render = data => {\n  if (data && data.total > 0) {\n    showLoader(false);\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = data.hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"350\" \n                height=\"290\"\n            />\n            </a>\n            <ul class=\"gallery-info\">\n              <li class=\"gallery-info-item\">\n                <p>Downloads</p>\n                <p>${downloads}</p>\n              </li>\n              <li class=\"gallery-info-item\">\n                <p>Comments</p>\n                <p>${comments}</p>\n              </li>\n              <li class=\"gallery-info-item\">\n                <p>Views</p>\n                <p>${views}</p>\n              </li>\n              <li class=\"gallery-info-item\">\n                <p>Likes</p>\n                <p>${likes}</p>\n              </li>\n            </ul>\n          </li>`\n      )\n      .join('');\n\n    // include slider\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt', // Use the alt attribute of images for captions\n      captionDelay: 250, // Delay in milliseconds before showing the caption\n    });\n  } else {\n    showLoader(false);\n    iziToast.success({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      timeout: 5000,\n    });\n  }\n};\n\nconst showLoader = (flag = true) => {\n  const el = document.querySelector('span.loader');\n\n  if (flag) {\n    // show element\n    if (el.hasAttribute('style')) {\n      el.removeAttribute('style');\n    }\n  } else {\n    if (!el.hasAttribute('style')) {\n      el.setAttribute('style', 'display:none');\n    }\n  }\n};\n\nexport { render, showLoader };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport getData from './js/pixabay-api';\nimport { render, showLoader } from './js/render-functions';\n\n// remove loader\nshowLoader(false);\n\ndocument.querySelector('.form').addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = new FormData(event.target);\n  const formProps = Object.fromEntries(formData);\n  if (!formProps.search) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      timeout: 5000,\n    });\n    throw new Error();\n  } else {\n    showLoader(true);\n  }\n\n  document.querySelector('ul.gallery').innerHTML = ''; // clear content\n  const main = document.querySelector('span.loader');\n  getData(formProps.search)\n    .then(res => {\n      if (res.status != 200) {\n        throw new Error('Server response fail');\n      }\n      main.innerHtml = render(res.data);\n    })\n    .catch(e => {\n      iziToast.error({\n        message: e.message,\n        position: 'topRight',\n        timeout: 5000,\n      });\n      showLoader(false); // remove loader\n    });\n});\n"],"names":["API_KEY","baseUrl","getData","search","opt","axios","render","data","showLoader","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","iziToast","flag","el","event","formData","formProps","main","res"],"mappings":"owBAAO,MAAMA,EAAU,qCACrBC,EAAU,2BCENC,EAAUC,GAAU,CACxBA,EAASA,GAAkB,GAC3B,MAAMC,EAAM,CACV,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,EACD,OAAOE,EAAM,IAAIJ,EAAU,IAAM,IAAI,gBAAgBG,CAAG,CAAC,CAC3D,ECRME,EAASC,GAAQ,CACrB,GAAIA,GAAQA,EAAK,MAAQ,EAAG,CAC1BC,EAAW,EAAK,EAChB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYF,EAAK,KACtB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,4CAE8BL,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAQNI,CAAS;AAAA;AAAA;AAAA;AAAA,qBAITD,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRD,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILD,CAAK;AAAA;AAAA;AAAA,gBAI1B,EACO,KAAK,EAAE,EAGO,IAAII,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACf,CAAA,CACL,MACIT,EAAW,EAAK,EAChBU,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,WACV,QAAS,GACf,CAAK,CAEL,EAEMV,EAAa,CAACW,EAAO,KAAS,CAClC,MAAMC,EAAK,SAAS,cAAc,aAAa,EAE3CD,EAEEC,EAAG,aAAa,OAAO,GACzBA,EAAG,gBAAgB,OAAO,EAGvBA,EAAG,aAAa,OAAO,GAC1BA,EAAG,aAAa,QAAS,cAAc,CAG7C,EC3EAZ,EAAW,EAAK,EAEhB,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAUa,GAAS,CAClEA,EAAM,eAAgB,EACtB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCE,EAAY,OAAO,YAAYD,CAAQ,EAC7C,GAAKC,EAAU,OASbf,EAAW,EAAI,MARf,OAAAU,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,GACf,CAAK,EACK,IAAI,MAKZ,SAAS,cAAc,YAAY,EAAE,UAAY,GACjD,MAAMM,EAAO,SAAS,cAAc,aAAa,EACjDtB,EAAQqB,EAAU,MAAM,EACrB,KAAKE,GAAO,CACX,GAAIA,EAAI,QAAU,IAChB,MAAM,IAAI,MAAM,sBAAsB,EAExCD,EAAK,UAAYlB,EAAOmB,EAAI,IAAI,CACjC,CAAA,EACA,MAAM,GAAK,CACVP,EAAS,MAAM,CACb,QAAS,EAAE,QACX,SAAU,WACV,QAAS,GACjB,CAAO,EACDV,EAAW,EAAK,CACtB,CAAK,CACL,CAAC"}